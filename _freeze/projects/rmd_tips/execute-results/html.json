{
  "hash": "281550f3fc75f0445cbba9ad98e1590b",
  "result": {
    "markdown": "---\ntitle: \"rmd_demo\"\nauthor: \"Raphael Morsomme\"\ndate: \"2022-05-28\"\noutput: html_document\neditor_options: \n  chunk_output_type: console\n---\n\nThis document contains a few tips for working with RMD files. The source file has been sent by email.\n\n# Level-1 title (often too large)\n\n## Level-2 title (typically better than level-1)\n\nYou always want to start by loading the packages you will need.\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(broom)\n```\n:::\n\nThe next step typically consists in downloading the data\n\n::: {.cell}\n\n```{.r .cell-code}\nd <- read_csv(\"https://rmorsomme.github.io/website/projects/training_set.csv\")\n```\n\n::: {.cell-output-stderr}\n```\nRows: 1000 Columns: 16\n-- Column specification --------------------------------------------------------\nDelimiter: \",\"\nchr  (2): mother_diabetes_gestational, newborn_sex\ndbl (13): newborn_birth_weight, month, mother_age, prenatal_care_starting_mo...\nlgl  (1): mother_risk_factor\n\ni Use `spec()` to retrieve the full column specification for this data.\ni Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n:::\n:::\n\nand then perhaps fitting a model.\n\n::: {.cell}\n\n```{.r .cell-code}\nm <- lm(mother_bmi ~ mother_weight_prepregnancy, data = d)\nm\n```\n\n::: {.cell-output-stdout}\n```\n\nCall:\nlm(formula = mother_bmi ~ mother_weight_prepregnancy, data = d)\n\nCoefficients:\n               (Intercept)  mother_weight_prepregnancy  \n                    2.6622                      0.1552  \n```\n:::\n:::\n\nThis is simply an illustration. In the project, you should not use `mother_bmi` as the response!\n\nFor the project, simply save the model you have selected in a RDATA file and send it to the instruction team.\n\n::: {.cell}\n\n```{.r .cell-code}\nsave(m, file = \"my_predictive_model.RDATA\")\nrm(m) # removes the object `m` from the environment\n```\n:::\n\nOnce we have everybody's model, we will use the following commands to load them into `R` and test them on new data.\n\n::: {.cell}\n\n```{.r .cell-code}\nload(\"my_predictive_model.RDATA\")\n\nnew_data <- tibble(mother_weight_prepregnancy = 150) # new data\npredict(m, new_data)\n```\n\n::: {.cell-output-stdout}\n```\n       1 \n25.93563 \n```\n:::\n:::\n\n## We can use RMD to write mathematical expressions\n\nTo write a small mathematical expression, simply write it between `$` signs.\n\nFor instance, $x = 5 + 9$.\n\nTo write longer expression, use two `$` signs.\n\n$$\nY \\approx \\beta_0 + \\beta_1 X_1 + \\beta_2 X_2 \n$$\n\nTo write a word in a math equation, use `\\text{}`\n\n$$\n\\text{BMI} \\approx \\beta_0 + \\beta_1 \\text{weight} + \\beta_3 X^2\n$$\n\n## Running `R` code\n\nYou can run `R` code in `R` chunks:\n\n::: {.cell}\n\n```{.r .cell-code}\n5+5\n```\n\n::: {.cell-output-stdout}\n```\n[1] 10\n```\n:::\n:::\n\nYou can also directly run `R` code in a paragraph as follows: using \\`Â r 5+5\\`. For instance, the $R^2$ value of model `m` is 0.882.\n\n## Learning more about RMD\n\nCome to OH, ask questions during/after class.\n\nCheck the RMD [cheatsheet](https://raw.githubusercontent.com/rstudio/cheatsheets/main/rmarkdown.pdf) or the longer [reference guide](https://www.rstudio.com/wp-content/uploads/2015/03/rmarkdown-reference.pdf).\n\n## Overall goal of the prediction project\n\n-   two baseline models (simple and full) + 3 models that you construct\n\n-   feature engineering + model selection\n\n-   the outcome of that procedure should be a model that predicts the response variable *reasonably* well\n\n-   please refer to the rubric\n\n## Missing values in the penguin dataset?\n\n::: {.cell}\n\n```{.r .cell-code}\nd <- palmerpenguins::penguins\n\nfilter(d,  is.na(body_mass_g)) # keeps the rows with a missing value for body_mass_g\n```\n\n::: {.cell-output-stdout}\n```\n# A tibble: 2 x 8\n  species island bill_length_mm bill_depth_mm flipper_length_~ body_mass_g sex  \n  <fct>   <fct>           <dbl>         <dbl>            <int>       <int> <fct>\n1 Adelie  Torge~             NA            NA               NA          NA <NA> \n2 Gentoo  Biscoe             NA            NA               NA          NA <NA> \n# ... with 1 more variable: year <int>\n```\n:::\n\n```{.r .cell-code}\nfilter(d, !is.na(body_mass_g)) # keeps the rows without a missing value for body_mass_g\n```\n\n::: {.cell-output-stdout}\n```\n# A tibble: 342 x 8\n   species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g\n   <fct>   <fct>              <dbl>         <dbl>             <int>       <int>\n 1 Adelie  Torgersen           39.1          18.7               181        3750\n 2 Adelie  Torgersen           39.5          17.4               186        3800\n 3 Adelie  Torgersen           40.3          18                 195        3250\n 4 Adelie  Torgersen           36.7          19.3               193        3450\n 5 Adelie  Torgersen           39.3          20.6               190        3650\n 6 Adelie  Torgersen           38.9          17.8               181        3625\n 7 Adelie  Torgersen           39.2          19.6               195        4675\n 8 Adelie  Torgersen           34.1          18.1               193        3475\n 9 Adelie  Torgersen           42            20.2               190        4250\n10 Adelie  Torgersen           37.8          17.1               186        3300\n# ... with 332 more rows, and 2 more variables: sex <fct>, year <int>\n```\n:::\n:::\n\n## Conclusion\n\nThis is the end of the main body\n\n## Appendix\n\nFigures should go here.\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(mpg, aes(cty, hwy)) + geom_point()\n```\n\n::: {.cell-output-display}\n![](rmd_tips_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::",
    "supporting": [
      "rmd_tips_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": [],
    "engineDependencies": {},
    "preserve": {},
    "postProcess": null
  }
}