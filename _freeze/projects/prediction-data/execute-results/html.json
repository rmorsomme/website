{
  "hash": "1697ee05addb120661eceb7adec912ce",
  "result": {
    "markdown": "---\ntitle: \"Prediction Project - Data Prep\"\nsubtitle: \"STA 101L - Summer 1 2022\"\neditor: visual\neditor_options: \n  chunk_output_type: console\n---\n\nThe data can be found [here](https://ftp.cdc.gov/pub/Health_Statistics/NCHS/Datasets/DVS/natality/Nat2020us.zip) and the help file [here](https://ftp.cdc.gov/pub/Health_Statistics/NCHS/Dataset_Documentation/DVS/natality/UserGuide2020.pdf)\n\n## Raw Data import\n\n::: {.cell hash='prediction-data_cache/html/unnamed-chunk-1_512899b408882968573d7dd173b3df91'}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nd <- read_csv(\n  \"../Nat2020us/Nat2020PublicUS.c20210506.r20210812.txt\",\n  col_names = FALSE, trim_ws = FALSE\n  ) %>%\n  slice(1:10)\n```\n:::\n\n## Variable extraction\n\n::: {.cell}\n\n```{.r .cell-code}\nd_clean <- d %>%\n  rename(string = X1) %>%\n  mutate(\n    year                             = str_sub(string, 9  , 12 ),\n    month                            = str_sub(string, 13 , 14 ),\n    mother_age                       = str_sub(string, 75 , 76 ),\n    prenatal_car_starting_month      = str_sub(string, 224, 225),\n    daily_cigarette_prepregnancy     = str_sub(string, 253, 254),\n    daily_cigarette_trimester_1      = str_sub(string, 255, 256),\n    daily_cigarette_trimester_2      = str_sub(string, 257, 258),\n    daily_cigarette_trimester_3      = str_sub(string, 259, 260),\n    mother_height                    = str_sub(string, 280, 281),\n    mother_bmi                       = str_sub(string, 283, 286),\n    mother_weight_prepregnancy       = str_sub(string, 292, 294),\n    mother_weight_delivery           = str_sub(string, 299, 301),\n    mother_diabetes_prepregnancy     = str_sub(string, 313, 313),\n    mother_diabetes_gestational      = str_sub(string, 314, 314),\n    mother_hypertension_prepregnancy = str_sub(string, 315, 315),\n    mother_hypertension_gestational  = str_sub(string, 316, 316),\n    risk_factors                     = str_sub(string, 337, 337),\n    gonorrhea                        = str_sub(string, 343, 343),\n    syphilis                         = str_sub(string, 344, 344),\n    chlamydia                        = str_sub(string, 345, 345),\n    hepatitis_B                      = str_sub(string, 346, 346),\n    hepatitis_C                      = str_sub(string, 347, 347),\n    number_newborns                  = str_sub(string, 454, 454),\n    newborn_sex                      = str_sub(string, 475, 475),\n    gestation_week                   = str_sub(string, 490, 491),\n    newborn_birth_weight             = str_sub(string, 504, 507)\n    ) %>%\n  select(newborn_birth_weight, !matches(\"string\"), string)\n```\n:::\n\n# Instructions\n\n## Overview\n\nThe prediction project is released Wednesday, May 18. The prediction model is due on Tuesday, May 31, at 9:00 am. The final report is due Wednesday, June 1 at 9:00pm.\n\nüçÄ Good luck! üçÄ\n\n## Academic Integrity\n\nBy taking this exam, you pledge to uphold the Duke Community Standard:\n\n-   I will not lie, cheat, or steal in my academic endeavors;\n\n-   I will conduct myself honorably in all my endeavors; and\n\n-   I will act if the Standard is compromised.\n\n## Submission\n\n-   **Prediction model:** you need to submit a .RDATA file that contains your prediction model. The function takes a test set (same predictors as the training set, but no response variable) as an input and returns a prediction for each observation. The file should not contain anything else.\n\n-   **Final report:** The final report details the work you have conducted. It needs to be between 2 and 4 pages long (including code chunks, but excluding figures). The figures go in the appendix, along with any work your deem relevant, but that is notreport\n\n-   The report needs to be realized using RMardown and submitted on Gradescope as a PDF.\n\n# Grading (50 pts)\n\n+-----------------------------------------------------------------------------------+-----------------+\n| **Part**                                                                          | **Points**      |\n+:==================================================================================+:===============:+\n| **Prediction model**                                                              | **3**           |\n|                                                                                   |                 |\n| -   .RDATA file only contains the model                                           | 1               |\n|                                                                                   |                 |\n| -   model takes a test set as input                                               | 1               |\n|                                                                                   |                 |\n| -   model returns one prediction for each observation                             | 1               |\n|                                                                                   |                 |\n| -   most accurate model                                                           | bragging rights |\n+-----------------------------------------------------------------------------------+-----------------+\n| **Report**                                                                        | **11**          |\n|                                                                                   |                 |\n| -   reproducible                                                                  | 1               |\n|                                                                                   |                 |\n| -   simple model is fitted                                                        | 1               |\n|                                                                                   |                 |\n| -   full model is fitted                                                          | 1               |\n|                                                                                   |                 |\n| -   at least a predictor is transformed                                           | 1               |\n|                                                                                   |                 |\n| -   predictors are combined to create at least a new one                          | 1               |\n|                                                                                   |                 |\n| -   at least one interaction is considerd                                         | 1               |\n|                                                                                   |                 |\n| -   at least a categorical predictor                                              | 1               |\n|                                                                                   |                 |\n| -   subject knowledge is used to guide variable selection and feature engineering | 1               |\n|                                                                                   |                 |\n| -   models are compared using                                                     | 1               |\n|                                                                                   |                 |\n|     -   a suitable criterion                                                      | 2 (1)           |\n|                                                                                   |                 |\n|     -   cross-validation (holdout method)                                         |                 |\n+-----------------------------------------------------------------------------------+-----------------+\n| **Participation**                                                                 | **1**           |\n|                                                                                   |                 |\n| -   ask a question in QA                                                          | 1               |\n+-----------------------------------------------------------------------------------+-----------------+\n| **Total**                                                                         | 20              |\n+-----------------------------------------------------------------------------------+-----------------+",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": [],
    "engineDependencies": {},
    "preserve": {},
    "postProcess": null
  }
}